2023-10-27 12:52:46.832  INFO 1580 --- [restartedMain] c.m.MovieBookingApplication              : Starting MovieBookingApplication using Java 17.0.4.1 on LTIN282768 with PID 1580 (C:\Users\2106928\Downloads\spring boot  Mongo\target\classes started by 2106928 in C:\Users\2106928\Downloads\spring boot  Mongo)
2023-10-27 12:52:46.861  INFO 1580 --- [restartedMain] c.m.MovieBookingApplication              : No active profile set, falling back to 1 default profile: "default"
2023-10-27 12:52:47.088  INFO 1580 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2023-10-27 12:52:47.094  INFO 1580 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2023-10-27 12:52:49.992  INFO 1580 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2023-10-27 12:52:50.244  INFO 1580 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 235 ms. Found 3 MongoDB repository interfaces.
2023-10-27 12:52:52.669  INFO 1580 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-10-27 12:52:52.698  INFO 1580 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-10-27 12:52:52.700  INFO 1580 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.78]
2023-10-27 12:52:52.972  INFO 1580 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-10-27 12:52:52.973  INFO 1580 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5873 ms
2023-10-27 12:52:53.484  INFO 1580 --- [restartedMain] org.mongodb.driver.cluster               : Adding discovered server moviebookingdb.mongo.cosmos.azure.com:10255 to client view of cluster
2023-10-27 12:52:53.636  INFO 1580 --- [restartedMain] org.mongodb.driver.client                : MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.6.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Red Hat, Inc./17.0.4.1+1-LTS", "application": {"name": "@moviebookingdb@"}} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=false, retryReads=true, readConcern=ReadConcern{level=null}, credential=MongoCredential{mechanism=null, userName='moviebookingdb', source='admin', password=<hidden>, mechanismProperties=<hidden>}, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@21cafcf5]}, clusterSettings={hosts=[moviebookingdb.mongo.cosmos.azure.com:10255], srvServiceName=mongodb, mode=MULTIPLE, requiredClusterType=REPLICA_SET, requiredReplicaSetName='globaldb', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=120000, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=true, invalidHostNameAllowed=false, context=null}, applicationName='@moviebookingdb@', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2023-10-27 12:52:55.115  INFO 1580 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-10-27 12:52:55.633  INFO 1580 --- [cluster-rtt-ClusterId{value='653b654d445ec07636621e8e', description='null'}-moviebookingdb.mongo.cosmos.azure.com:10255] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:1516323243}] to moviebookingdb.mongo.cosmos.azure.com:10255
2023-10-27 12:52:55.698  INFO 1580 --- [cluster-ClusterId{value='653b654d445ec07636621e8e', description='null'}-moviebookingdb.mongo.cosmos.azure.com:10255] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:393139978}] to moviebookingdb.mongo.cosmos.azure.com:10255
2023-10-27 12:52:55.699  INFO 1580 --- [cluster-ClusterId{value='653b654d445ec07636621e8e', description='null'}-moviebookingdb.mongo.cosmos.azure.com:10255] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=moviebookingdb.mongo.cosmos.azure.com:10255, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1404133700, setName='globaldb', canonicalAddress=moviebookingdb-westus.mongo.cosmos.azure.com:10255, hosts=[moviebookingdb-westus.mongo.cosmos.azure.com:10255], passives=[], arbiters=[], primary='moviebookingdb-westus.mongo.cosmos.azure.com:10255', tagSet=TagSet{[Tag{name='region', value='West US'}]}, electionId=null, setVersion=1, topologyVersion=null, lastWriteDate=null, lastUpdateTimeNanos=1358747438300}
2023-10-27 12:52:55.714  INFO 1580 --- [cluster-ClusterId{value='653b654d445ec07636621e8e', description='null'}-moviebookingdb.mongo.cosmos.azure.com:10255] org.mongodb.driver.cluster               : Adding discovered server moviebookingdb-westus.mongo.cosmos.azure.com:10255 to client view of cluster
2023-10-27 12:52:55.716  INFO 1580 --- [cluster-ClusterId{value='653b654d445ec07636621e8e', description='null'}-moviebookingdb.mongo.cosmos.azure.com:10255] org.mongodb.driver.cluster               : Server moviebookingdb.mongo.cosmos.azure.com:10255 is no longer a member of the replica set.  Removing from client view of cluster.
2023-10-27 12:52:55.725  INFO 1580 --- [cluster-ClusterId{value='653b654d445ec07636621e8e', description='null'}-moviebookingdb.mongo.cosmos.azure.com:10255] org.mongodb.driver.cluster               : Setting max set version to 1 from replica set primary moviebookingdb.mongo.cosmos.azure.com:10255
2023-10-27 12:52:55.726  INFO 1580 --- [cluster-ClusterId{value='653b654d445ec07636621e8e', description='null'}-moviebookingdb.mongo.cosmos.azure.com:10255] org.mongodb.driver.cluster               : Discovered replica set primary moviebookingdb.mongo.cosmos.azure.com:10255
2023-10-27 12:52:56.983  INFO 1580 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10dca608, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40f5f0cc, org.springframework.security.web.context.SecurityContextPersistenceFilter@1b10165e, org.springframework.security.web.header.HeaderWriterFilter@d9a401e, org.springframework.web.filter.CorsFilter@65718fa9, org.springframework.security.web.authentication.logout.LogoutFilter@2be7c430, com.moviebookingapp.filter.JwtRequestFilter@621a0d4f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79f324cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@148646ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f5b0c18, org.springframework.security.web.session.SessionManagementFilter@345f29a9, org.springframework.security.web.access.ExceptionTranslationFilter@56c8d8cf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@41123d72]
2023-10-27 12:52:57.005  WARN 1580 --- [restartedMain] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/images/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-10-27 12:52:57.006  INFO 1580 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/images/**']
2023-10-27 12:52:57.007  WARN 1580 --- [restartedMain] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/js/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-10-27 12:52:57.009  INFO 1580 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/js/**']
2023-10-27 12:52:57.009  WARN 1580 --- [restartedMain] o.s.s.c.a.web.builders.WebSecurity       : You are asking Spring Security to ignore Ant [pattern='/webjars/**']. This is not recommended -- please use permitAll via HttpSecurity#authorizeHttpRequests instead.
2023-10-27 12:52:57.009  INFO 1580 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will not secure Ant [pattern='/webjars/**']
2023-10-27 12:52:57.043  INFO 1580 --- [cluster-ClusterId{value='653b654d445ec07636621e8e', description='null'}-moviebookingdb-westus.mongo.cosmos.azure.com:10255] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:3, serverValue:799962941}] to moviebookingdb-westus.mongo.cosmos.azure.com:10255
2023-10-27 12:52:57.044  INFO 1580 --- [cluster-ClusterId{value='653b654d445ec07636621e8e', description='null'}-moviebookingdb-westus.mongo.cosmos.azure.com:10255] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=moviebookingdb-westus.mongo.cosmos.azure.com:10255, type=REPLICA_SET_PRIMARY, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=8, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=983290200, setName='globaldb', canonicalAddress=moviebookingdb-westus.mongo.cosmos.azure.com:10255, hosts=[moviebookingdb-westus.mongo.cosmos.azure.com:10255], passives=[], arbiters=[], primary='moviebookingdb-westus.mongo.cosmos.azure.com:10255', tagSet=TagSet{[Tag{name='region', value='West US'}]}, electionId=null, setVersion=1, topologyVersion=null, lastWriteDate=null, lastUpdateTimeNanos=1360099769600}
2023-10-27 12:52:57.045  INFO 1580 --- [cluster-ClusterId{value='653b654d445ec07636621e8e', description='null'}-moviebookingdb-westus.mongo.cosmos.azure.com:10255] org.mongodb.driver.cluster               : Discovered replica set primary moviebookingdb-westus.mongo.cosmos.azure.com:10255
2023-10-27 12:52:57.067  INFO 1580 --- [cluster-rtt-ClusterId{value='653b654d445ec07636621e8e', description='null'}-moviebookingdb-westus.mongo.cosmos.azure.com:10255] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:4, serverValue:71894153}] to moviebookingdb-westus.mongo.cosmos.azure.com:10255
2023-10-27 12:52:57.962  INFO 1580 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-10-27 12:52:57.989  INFO 1580 --- [restartedMain] c.m.MovieBookingApplication              : Started MovieBookingApplication in 12.254 seconds (JVM running for 21.19)
2023-10-27 12:54:58.621  INFO 1580 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-10-27 12:54:58.621  INFO 1580 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-10-27 12:54:58.624  INFO 1580 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-10-27 12:54:58.745  INFO 1580 --- [http-nio-8080-exec-1] com.moviebookingapp.util.JwtUtil         : BEGIN - [extractUsername(token)]
2023-10-27 12:54:58.745  INFO 1580 --- [http-nio-8080-exec-1] com.moviebookingapp.util.JwtUtil         : END - [extractUsername(token)]
2023-10-27 12:54:58.746  INFO 1580 --- [http-nio-8080-exec-1] com.moviebookingapp.util.JwtUtil         : BEGIN - [extractClaims()]
2023-10-27 12:54:58.747  INFO 1580 --- [http-nio-8080-exec-1] com.moviebookingapp.util.JwtUtil         : BEGIN - [extractAllClaims(token)]
2023-10-27 12:54:58.748  INFO 1580 --- [http-nio-8080-exec-1] com.moviebookingapp.util.JwtUtil         : END - [extractAllClaims()]
2023-10-27 12:54:58.924 ERROR 1580 --- [http-nio-8080-exec-1] c.m.filter.JwtRequestFilter              : [Exeption In Request Filter] io.jsonwebtoken.ExpiredJwtException: JWT expired at 2023-10-26T17:36:31Z. Current time: 2023-10-27T12:54:58Z, a difference of 69507922 milliseconds.  Allowed clock skew: 0 milliseconds.
2023-10-27 12:55:30.538 ERROR 1580 --- [http-nio-8080-exec-4] c.m.filter.JwtRequestFilter              : [Exeption In Request Filter] com.moviebookingapp.excpetion.InvalidTokenException: Bearer String not found in token
2023-10-27 12:55:30.632  INFO 1580 --- [http-nio-8080-exec-4] c.m.controller.UserController            : BEGIN - createUser
2023-10-27 12:55:30.633  INFO 1580 --- [http-nio-8080-exec-4] c.m.serviceimpl.UserServiceImpl          : BEGIN - createUser
2023-10-27 12:55:33.167  INFO 1580 --- [http-nio-8080-exec-4] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:5, serverValue:1502476518}] to moviebookingdb-westus.mongo.cosmos.azure.com:10255
2023-10-27 12:55:34.197  INFO 1580 --- [http-nio-8080-exec-4] c.m.serviceimpl.UserServiceImpl          : ENDED - createUser
